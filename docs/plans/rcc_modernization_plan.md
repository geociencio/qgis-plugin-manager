# Implementation Plan: Phase 2 - RCC Modernization and Patching

Modernize the resource compilation process to support multiple Qt versions (PySide6, PyQt5) and ensure the generated Python files are compatible with the plugin's package structure through automated patching.

## Proposed Changes

### [Component Name] Core Logic (src/qgis_manager/core.py)

#### [MODIFY] [core.py](file:///home/jmbernales/qgispluginsdev/qgis-plugin-manager/src/qgis_manager/core.py)
- **Implement Tool Detection**: Add logic to search for available RCC compilers in order of preference (`pyside6-rcc`, `pyside2-rcc`, `pyrcc5`).
- **Implement Resource Patching**: Add a `patch_resource_file` function that:
    - Detects illegal or non-portable imports generated by the compiler (e.g., `import resources_rc`).
    - Fixes them to use relative imports or consistent names that work within a QGIS plugin environment.
- **Update `compile_qt_resources`**:
    - Use the detected RCC tool.
    - Automatically call `patch_resource_file` after a successful compilation.

## Verification Plan

### Automated Tests
- Create a test `.qrc` file and verify it compiles with the available tool.
- Verify that the resulting `.py` file has been patched correctly (check for relative imports if applicable).

### Manual Verification
- Run `qgis-manage compile` in a project with resources.
- Deploy the plugin and verify that QGIS can load the resources without `ImportError`.
